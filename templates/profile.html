{% extends 'base_user.html' %}
{% block content %}
{% load static %}

    <div class="w-full min-h-screen flex flex-col items-center py-7">
        <form method="POST" enctype="multipart/form-data">
            {% csrf_token %}
            <div class="flex flex-col mt-10 items-center">
                <div class="relative flex">
                    <img id="profile_picture" class="w-64 h-64 object-cover rounded-full flex" src="{{ user.profile_picture }}" />

                    
                    <label class="cursor-pointer absolute top-1 right-1 bg-black/80 p-4 rounded-full flex">
                        <i class="fa-solid fa-pencil text-2xl"></i>
                        <input onchange="pictureChanged(this)" type="file" class="hidden" name="profile_picture" />
                    </label>
                    
                    
                </div>
                
                <p class="mt-5 font-rubik text-2xl">{{ user.username }}</p>
            </div>


            <div class="flex w-full justify-center font-roboto text-slate-100 mt-10">

                <div class="flex flex-col mr-5">
                    <p>First Name</p>
                    <input class="bg-slate-100 text-zinc-800 w-64 border-1 border-solid border-zinz-800 rounded-md py-1 px-3 text-lg" type="text" name="first_name" value="{{ user.first_name }}" />
                </div>
                <div class="flex flex-col ml-5">
                    <p>Last Name</p>
                    <input class="bg-slate-100 text-zinc-800 w-64 border-1 border-solid border-zinz-800 rounded-md py-1 px-3 text-lg" type="text" name="last_name" value="{{ user.last_name }}" />
                </div>
            </div>

            <div class="flex w-full justify-center font-roboto text-slate-100 mt-10">    
                <div class="flex flex-col mr-5">
                    <p>Roll Number</p>
                    <input class="bg-slate-100 text-zinc-800 w-64 border-1 border-solid border-zinz-800 rounded-md py-1 px-3 text-lg" type="text" name="roll_number" value="{{ user.roll_number }}" />
                </div>
                <div class="flex flex-col ml-5">
                    <p>Mobile Number</p>
                    <input class="bg-slate-100 text-zinc-800 w-64 border-1 border-solid border-zinz-800 rounded-md py-1 px-3 text-lg" type="text" name="mobile_number" value="{{ user.mobile_number }}" />
                </div>
            </div>

            <div class="flex w-full justify-center font-roboto text-slate-100 mt-10">    
                <div class="flex flex-col mr-5">
                    <p>Father's Name</p>
                    <input class="bg-slate-100 text-zinc-800 w-64 border-1 border-solid border-zinz-800 rounded-md py-1 px-3 text-lg" type="text" name="father_name" value="{{ user.father_name }}" />
                </div>
                <div class="flex flex-col ml-5">
                    <p>Mother's Name</p>
                    <input class="bg-slate-100 text-zinc-800 w-64 border-1 border-solid border-zinz-800 rounded-md py-1 px-3 text-lg" type="text" name="mother_name" value="{{ user.mother_name }}" />
                </div>
            </div>

            <div class="flex w-full justify-center font-roboto text-slate-100 mt-10">    
                <div class="flex flex-col mr-5">
                    <p>Guardian's Name</p>
                    <input class="bg-slate-100 text-zinc-800 w-64 border-1 border-solid border-zinz-800 rounded-md py-1 px-3 text-lg" type="text" name="guardian_name" value="{{ user.guardian_name }}" />
                </div>
                <div class="flex flex-col ml-5">
                    <p>Address</p>
                    <input class="bg-slate-100 text-zinc-800 w-64 border-1 border-solid border-zinz-800 rounded-md py-1 px-3 text-lg" type="text" name="address" value="{{ user.address }}" />
                </div>
            </div>

            <div class="flex w-full justify-center font-roboto text-slate-100 mt-10">    
                <div class="flex flex-col mr-5">
                    <p>Gender</p>
                    <input class="bg-slate-100 text-zinc-800 w-64 border-1 border-solid border-zinz-800 rounded-md py-1 px-3 text-lg" type="text" name="gender" value="{{ user.gender }}" />
                </div>
                <div class="flex flex-col ml-5">
                    <p>Research Area</p>
                    <input class="bg-slate-100 text-zinc-800 w-64 border-1 border-solid border-zinz-800 rounded-md py-1 px-3 text-lg" type="text" name="research_area" value="{{ user.research_area }}" />
                </div>
            </div>

            <div class="flex w-full justify-center text-slate-100 mt-10"> 
                <input class="bg-primary px-5 py-2 cursor-pointer text-2xl font-rubik" type="submit" value="Submit" />
            </div>

        </form>
    </div>

    <script>
        function pictureChanged(e) {
            let x = document.getElementById('profile_picture')
            let uploaded = e.files[0]
            var reader = new FileReader();

            reader.onload = function(event) {
                x.src = event.target.result;
            }
            reader.readAsDataURL(uploaded)
        }
    </script>

{% endblock %}